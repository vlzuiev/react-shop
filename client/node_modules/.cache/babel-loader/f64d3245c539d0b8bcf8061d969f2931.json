{"ast":null,"code":"import { takeLatest, put, all, call } from 'redux-saga/effects';\nimport UserTypes from './user.types';\nimport { googleProvider, auth, createUserProfileDocument } from '../../firebase/firebase.utils';\nexport function* signInWithGoogle() {\n  try {\n    const _ref = yield auth.signInWithPopup(googleProvider),\n          user = _ref.user;\n\n    const userRef = yield call(createUserProfileDocument, user);\n  } catch (err) {\n    yield put(UserTypes.GOOGLE_SIGN_IN_FAILURE, err);\n  }\n}\nexport function* onGoogleSignInStart() {\n  yield takeLatest(UserTypes.GOOGLE_SIGN_IN_START, signInWithGoogle);\n}\nexport function* userSagas() {\n  yield all([onGoogleSignInStart()]);\n}","map":{"version":3,"sources":["/Users/vladyslavzuiev/Desktop/Udemy/crwn-clothing/src/redux/user/user.saga.js"],"names":["takeLatest","put","all","call","UserTypes","googleProvider","auth","createUserProfileDocument","signInWithGoogle","signInWithPopup","user","userRef","err","GOOGLE_SIGN_IN_FAILURE","onGoogleSignInStart","GOOGLE_SIGN_IN_START","userSagas"],"mappings":"AAAA,SACIA,UADJ,EAEIC,GAFJ,EAGIC,GAHJ,EAIIC,IAJJ,QAKO,oBALP;AAMA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SACIC,cADJ,EAEIC,IAFJ,EAGIC,yBAHJ,QAIO,+BAJP;AAMA,OAAO,UAAUC,gBAAV,GAA6B;AAChC,MAAI;AAAA,iBACe,MAAMF,IAAI,CAACG,eAAL,CAAqBJ,cAArB,CADrB;AAAA,UACOK,IADP,QACOA,IADP;;AAEA,UAAMC,OAAO,GAAG,MAAMR,IAAI,CAACI,yBAAD,EAA4BG,IAA5B,CAA1B;AACH,GAHD,CAGE,OAAOE,GAAP,EAAY;AACV,UAAMX,GAAG,CAACG,SAAS,CAACS,sBAAX,EAAmCD,GAAnC,CAAT;AACH;AACJ;AAED,OAAO,UAAUE,mBAAV,GAAgC;AACnC,QAAMd,UAAU,CACZI,SAAS,CAACW,oBADE,EAEZP,gBAFY,CAAhB;AAIH;AAED,OAAO,UAAUQ,SAAV,GAAsB;AACzB,QAAMd,GAAG,CAAC,CAACY,mBAAmB,EAApB,CAAD,CAAT;AACH","sourcesContent":["import {\n    takeLatest,\n    put,\n    all,\n    call\n} from 'redux-saga/effects';\nimport UserTypes from './user.types';\nimport {\n    googleProvider,\n    auth,\n    createUserProfileDocument\n} from '../../firebase/firebase.utils';\n\nexport function* signInWithGoogle() {\n    try {\n        const {user} = yield auth.signInWithPopup(googleProvider);\n        const userRef = yield call(createUserProfileDocument, user);\n    } catch (err) {\n        yield put(UserTypes.GOOGLE_SIGN_IN_FAILURE, err)\n    }\n}\n\nexport function* onGoogleSignInStart() {\n    yield takeLatest(\n        UserTypes.GOOGLE_SIGN_IN_START,\n        signInWithGoogle\n    )\n}\n\nexport function* userSagas() {\n    yield all([onGoogleSignInStart()])\n}\n"]},"metadata":{},"sourceType":"module"}